<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Reads and write object in HDF5 files — h5_read • rhdf5</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Reads and write object in HDF5 files — h5_read"><meta property="og:description" content="Reads objects in HDF5 files. This function can be used to read
either full arrays/vectors or subarrays (hyperslabs) from an
existing dataset."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rhdf5</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.41.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/rhdf5.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/practical_tips.html">**rhdf5** Practical Tips</a>
    </li>
    <li>
      <a href="../articles/rhdf5_cloud_reading.html">Reading HDF5 Files In The Cloud</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/grimbough/rhdf5/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Reads and write object in HDF5 files</h1>
    <small class="dont-index">Source: <a href="https://github.com/grimbough/rhdf5/blob/HEAD/R/h5read.R" class="external-link"><code>R/h5read.R</code></a></small>
    <div class="hidden name"><code>h5_read.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Reads objects in HDF5 files. This function can be used to read
either full arrays/vectors or subarrays (hyperslabs) from an
existing dataset.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">h5read</span><span class="op">(</span>
  <span class="va">file</span>,
  <span class="va">name</span>,
  index <span class="op">=</span> <span class="cn">NULL</span>,
  start <span class="op">=</span> <span class="cn">NULL</span>,
  stride <span class="op">=</span> <span class="cn">NULL</span>,
  block <span class="op">=</span> <span class="cn">NULL</span>,
  count <span class="op">=</span> <span class="cn">NULL</span>,
  compoundAsDataFrame <span class="op">=</span> <span class="cn">TRUE</span>,
  callGeneric <span class="op">=</span> <span class="cn">TRUE</span>,
  read.attributes <span class="op">=</span> <span class="cn">FALSE</span>,
  drop <span class="op">=</span> <span class="cn">FALSE</span>,
  <span class="va">...</span>,
  native <span class="op">=</span> <span class="cn">FALSE</span>,
  s3 <span class="op">=</span> <span class="cn">FALSE</span>,
  s3credentials <span class="op">=</span> <span class="cn">NULL</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>file</dt>
<dd><p>The filename (character) of the file in which the dataset is
be located. It is possible to provide an object of
class <a href="H5IdComponent-class.html">H5IdComponent</a> representing a H5 location identifier
(file or group). See <code><a href="H5Fcreate.html">H5Fcreate</a></code>, <code><a href="H5Fopen.html">H5Fopen</a></code>,
<code><a href="H5Gcreate.html">H5Gcreate</a></code>, <code><a href="H5Gopen.html">H5Gopen</a></code> to create an object of this
kind.</p></dd>


<dt>name</dt>
<dd><p>The name of the dataset in the HDF5 file.</p></dd>


<dt>index</dt>
<dd><p>List of indices for subsetting. The length of the list has to
agree with the dimensional extension of the HDF5 array. Each list element is
an integer vector of indices. A list element equal to NULL choses all
indices in this dimension. Counting is R-style 1-based.</p></dd>


<dt>start</dt>
<dd><p>The start coordinate of a hyperslab (similar to subsetting in
R). Counting is R-style 1-based. This argument is ignored, if index is not
NULL.</p></dd>


<dt>stride</dt>
<dd><p>The stride of the hypercube. Read the introduction
<a href="http://ftp.hdfgroup.org/HDF5/Tutor/phypecont.html" class="external-link">http://ftp.hdfgroup.org/HDF5/Tutor/phypecont.html</a> before using this
argument. R behaves like Fortran in this example. This argument is ignored,
if index is not NULL.</p></dd>


<dt>block</dt>
<dd><p>The block size of the hyperslab. Read the introduction
<a href="http://ftp.hdfgroup.org/HDF5/Tutor/phypecont.html" class="external-link">http://ftp.hdfgroup.org/HDF5/Tutor/phypecont.html</a> before using this
argument. R behaves like Fortran in this example. This argument is ignored,
if index is not NULL.</p></dd>


<dt>count</dt>
<dd><p>The number of blocks to be read. This argument is ignored,
if index is not NULL.</p></dd>


<dt>compoundAsDataFrame</dt>
<dd><p>If true, a compound datatype will be coerced to a
data.frame. This is not possible, if the dataset is multi-dimensional.
Otherwise the compound datatype will be returned as a list. Nested compound
data types will be returned as a nested list.</p></dd>


<dt>callGeneric</dt>
<dd><p>If TRUE a generic function h5read.classname will be
called if it exists depending on the dataset's class attribute within the
HDF5 file. This function can be used to convert the standard output of
h5read depending on the class attribute. Note that h5read is not a S3
generic function. Dispatching is done based on the HDF5 attribute after the
standard h5read function.</p></dd>


<dt>read.attributes</dt>
<dd><p>(logical) If <code>TRUE</code>, the HDF5 attributes are read and
attached to the respective R object.</p></dd>


<dt>drop</dt>
<dd><p>(logical) If TRUE, the HDF5 object is read as a vector with <code>NULL</code>
dim attributes.</p></dd>


<dt>...</dt>
<dd><p>Further arguments passed to <code><a href="H5Dread.html">H5Dread</a></code>.</p></dd>


<dt>native</dt>
<dd><p>An object of class <code>logical</code>. If TRUE, array-like objects
are treated as stored in HDF5 row-major rather than R column-major
orientation. Using <code>native = TRUE</code> increases HDF5 file portability
between programming languages. A file written with <code>native = TRUE</code>
should also be read with <code>native = TRUE</code></p></dd>


<dt>s3</dt>
<dd><p>Logical value indicating whether the file argument should be
treated as a URL to an Amazon S3 bucket, rather than a local file path.</p></dd>


<dt>s3credentials</dt>
<dd><p>A list of length three, providing the credentials for
accessing files in a private Amazon S3 bucket.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p><code>h5read</code> returns an array with the data read.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Read an R object from an HDF5 file. If none of the arguments
<code>start, stride, block, count</code> are specified, the dataset has the same
dimension in the HDF5 file and in memory. If the dataset already exists in
the HDF5 file, one can read subarrays, so called hyperslabs from
the HDF5 file. The arguments <code>start, stride, block, count</code> define the
subset of the dataset in the HDF5 file that is to be read/written. See these
introductions to hyperslabs:
<a href="https://support.hdfgroup.org/HDF5/Tutor/selectsimple.html" class="external-link">https://support.hdfgroup.org/HDF5/Tutor/selectsimple.html</a>,
<a href="https://support.hdfgroup.org/HDF5/Tutor/select.html" class="external-link">https://support.hdfgroup.org/HDF5/Tutor/select.html</a> and
<a href="http://ftp.hdfgroup.org/HDF5/Tutor/phypecont.html" class="external-link">http://ftp.hdfgroup.org/HDF5/Tutor/phypecont.html</a>. Please note that in
R the first dimension is the fastest changing dimension.</p>
<p>When viewing the HDF5 datasets with any C-program (e.g. HDFView), the order
of dimensions is inverted. In the R interface counting starts with 1,
whereas in the C-programs (e.g. HDFView) counting starts with 0.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="h5ls.html">h5ls</a></code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Bernd Fischer, Mike Smith</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="h5_createFile.html">h5createFile</a></span><span class="op">(</span><span class="st">"ex_hdf5file.h5"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># write a matrix</span></span>
<span class="r-in"><span class="va">B</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html" class="external-link">array</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0.1</span>,<span class="fl">2.0</span>,by<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span>,dim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">2</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="h5_write.html">h5write</a></span><span class="op">(</span><span class="va">B</span>, <span class="st">"ex_hdf5file.h5"</span>,<span class="st">"B"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># read a matrix</span></span>
<span class="r-in"><span class="va">E</span> <span class="op">=</span> <span class="fu">h5read</span><span class="op">(</span><span class="st">"ex_hdf5file.h5"</span>,<span class="st">"B"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># write and read submatrix</span></span>
<span class="r-in"><span class="fu"><a href="h5_createDataset.html">h5createDataset</a></span><span class="op">(</span><span class="st">"ex_hdf5file.h5"</span>, <span class="st">"S"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">8</span><span class="op">)</span>, storage.mode <span class="op">=</span> <span class="st">"integer"</span>, chunk<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">1</span><span class="op">)</span>, level<span class="op">=</span><span class="fl">7</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="h5_write.html">h5write</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>,nr<span class="op">=</span><span class="fl">5</span>,nc<span class="op">=</span><span class="fl">1</span><span class="op">)</span>, file<span class="op">=</span><span class="st">"ex_hdf5file.h5"</span>, name<span class="op">=</span><span class="st">"S"</span>, index<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="cn">NULL</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="fu">h5read</span><span class="op">(</span><span class="st">"ex_hdf5file.h5"</span>, <span class="st">"S"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]    1    0    0    0    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]    2    0    0    0    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]    3    0    0    0    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]    4    0    0    0    0    0    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]    5    0    0    0    0    0    0    0</span>
<span class="r-in"><span class="fu">h5read</span><span class="op">(</span><span class="st">"ex_hdf5file.h5"</span>, <span class="st">"S"</span>, index<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="cn">NULL</span>,<span class="fl">2</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1] [,2]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]    0    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]    0    0</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Read a subset of an hdf5 file in a public S3 bucket</span></span>
<span class="r-in"><span class="co"># \donttest{</span></span>
<span class="r-in"><span class="fu">h5read</span><span class="op">(</span><span class="st">'https://rhdf5-public.s3.eu-central-1.amazonaws.com/rhdf5ex_t_float_3d.h5'</span>, </span>
<span class="r-in">      s3 <span class="op">=</span> <span class="cn">TRUE</span>, name <span class="op">=</span> <span class="st">"a1"</span>, index <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="cn">NULL</span>, <span class="fl">3</span>, <span class="cn">NULL</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> , , 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           [,1]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 0.2444485</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] 0.3873723</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] 0.4045331</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] 0.6178528</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,] 0.5530508</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> , , 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           [,1]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 0.7906603</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] 0.3274960</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] 0.2159982</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] 0.8083879</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,] 0.7067179</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span class="co"># }</span></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Bernd Fischer, Mike Smith, Gregoire Pau.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.4.</p>
</div>

      </footer></div>

  


  

  </body></html>

