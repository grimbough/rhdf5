<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Write object to an HDF5 file. — h5_write • rhdf5</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Write object to an HDF5 file. — h5_write" />
<meta property="og:description" content="Writes an R object to an HDF5 file. This function can be used to write either
full arrays/vectors or subarrays (hyperslabs) within an existing dataset." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rhdf5</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.35.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/rhdf5.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/practical_tips.html">**rhdf5** Practical Tips</a>
    </li>
    <li>
      <a href="../articles/rhdf5_cloud_reading.html">Reading HDF5 Files In The Cloud</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/grimbough/rhdf5/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Write object to an HDF5 file.</h1>
    <small class="dont-index">Source: <a href='https://github.com/grimbough/rhdf5/blob/master/R/h5write.R'><code>R/h5write.R</code></a></small>
    <div class="hidden name"><code>h5_write.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Writes an R object to an HDF5 file. This function can be used to write either
full arrays/vectors or subarrays (hyperslabs) within an existing dataset.</p>
    </div>

    <pre class="usage"><span class='fu'>h5write</span><span class='op'>(</span><span class='va'>obj</span>, <span class='va'>file</span>, <span class='va'>name</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for default</span>
<span class='fu'>h5write</span><span class='op'>(</span>
  <span class='va'>obj</span>,
  <span class='va'>file</span>,
  <span class='va'>name</span>,
  createnewfile <span class='op'>=</span> <span class='cn'>TRUE</span>,
  write.attributes <span class='op'>=</span> <span class='cn'>FALSE</span>,
  <span class='va'>...</span>,
  native <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span>

<span class='fu'>h5writeDataset</span><span class='op'>(</span><span class='va'>obj</span>, <span class='va'>h5loc</span>, <span class='va'>name</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for data.frame</span>
<span class='fu'>h5writeDataset</span><span class='op'>(</span><span class='va'>obj</span>, <span class='va'>h5loc</span>, <span class='va'>name</span>, level <span class='op'>=</span> <span class='fl'>6</span>, <span class='va'>chunk</span>, DataFrameAsCompound <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='co'># S3 method for array</span>
<span class='fu'>h5writeDataset</span><span class='op'>(</span>
  <span class='va'>obj</span>,
  <span class='va'>h5loc</span>,
  <span class='va'>name</span>,
  index <span class='op'>=</span> <span class='cn'>NULL</span>,
  start <span class='op'>=</span> <span class='cn'>NULL</span>,
  stride <span class='op'>=</span> <span class='cn'>NULL</span>,
  block <span class='op'>=</span> <span class='cn'>NULL</span>,
  count <span class='op'>=</span> <span class='cn'>NULL</span>,
  size <span class='op'>=</span> <span class='cn'>NULL</span>,
  level <span class='op'>=</span> <span class='fl'>6</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>obj</th>
      <td><p>The R object to be written.</p></td>
    </tr>
    <tr>
      <th>file</th>
      <td><p>The filename (character) of the file in which the dataset will be
located. For advanced programmers it is possible to provide an object of
class <a href='H5IdComponent-class.html'>H5IdComponent</a> representing a H5 location identifier
(file or group). See <code><a href='H5Fcreate.html'>H5Fcreate</a></code>, <code><a href='H5Fopen.html'>H5Fopen</a></code>,
<code><a href='H5Gcreate.html'>H5Gcreate</a></code>, <code><a href='H5Gopen.html'>H5Gopen</a></code> to create an object of this
kind.</p></td>
    </tr>
    <tr>
      <th>name</th>
      <td><p>The name of the dataset in the HDF5 file.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Further arguments passed to <code><a href='H5Dwrite.html'>H5Dwrite</a></code>.</p></td>
    </tr>
    <tr>
      <th>createnewfile</th>
      <td><p>If <code>TRUE</code>, a new file will be created if necessary.</p></td>
    </tr>
    <tr>
      <th>write.attributes</th>
      <td><p>(logical) If TRUE, all R-attributes attached to the
object <code>obj</code> are written to the HDF5 file.</p></td>
    </tr>
    <tr>
      <th>native</th>
      <td><p>An object of class <code>logical</code>. If TRUE, array-like objects
are treated as stored in HDF5 row-major rather than R column-major
orientation. Using <code>native = TRUE</code> increases HDF5 file portability
between programming languages. A file written with <code>native = TRUE</code>
should also be read with <code>native = TRUE</code></p></td>
    </tr>
    <tr>
      <th>h5loc</th>
      <td><p>An object of class <a href='H5IdComponent-class.html'>H5IdComponent</a> representing a H5
location identifier (file or group). See <code><a href='H5Fcreate.html'>H5Fcreate</a></code>,
<code><a href='H5Fopen.html'>H5Fopen</a></code>, <code><a href='H5Gcreate.html'>H5Gcreate</a></code>, <code><a href='H5Gopen.html'>H5Gopen</a></code> to
create an object of this kind.</p></td>
    </tr>
    <tr>
      <th>level</th>
      <td><p>The compression level. An integer value between 0 (no
compression) and 9 (highest and slowest compression). Only used, if the
dataset does not yet exist. See <code><a href='h5_createDataset.html'>h5createDataset()</a></code> to create an dataset.</p></td>
    </tr>
    <tr>
      <th>chunk</th>
      <td><p>Specifies the number of items to be include in an HDF5 chunk. If
left unspecified the defaults is the smaller of: the total number of
elements or the number of elements that fit within 4GB of memory. If
<code>DataFrameAsCompound=FALSE</code> each row of the <code>data.frame</code> can be consider an
"element".</p></td>
    </tr>
    <tr>
      <th>DataFrameAsCompound</th>
      <td><p>If true, a <code>data.frame</code> will be saved as a
compound data type. Otherwise it is saved like a list. The advantage of
saving a data.frame as a compound data type is that it can be read as a
table from python or with a struct-type from C. The disadvantage is that
the data has to be rearranged on disk and thus can slow down I/O. If fast
reading is required, <code>DataFrameAsCompound=FALSE</code> is recommended.</p></td>
    </tr>
    <tr>
      <th>index</th>
      <td><p>List of indices for subsetting. The length of the list has to
agree with the dimensional extension of the HDF5 array. Each list element
is an integer vector of indices. A list element equal to <code>NULL</code> chooses all
indices in this dimension. Counting is R-style 1-based.</p></td>
    </tr>
    <tr>
      <th>start</th>
      <td><p>The start coordinate of a hyperslab (similar to subsetting in
R). Counting is R-style 1-based. This argument is ignored, if index is not
NULL.</p></td>
    </tr>
    <tr>
      <th>stride</th>
      <td><p>The stride of the hypercube. Read the introduction
<a href='http://ftp.hdfgroup.org/HDF5/Tutor/phypecont.html'>http://ftp.hdfgroup.org/HDF5/Tutor/phypecont.html</a> before using this
argument. R behaves like Fortran in this example. This argument is ignored,
if index is not NULL.</p></td>
    </tr>
    <tr>
      <th>block</th>
      <td><p>The block size of the hyperslab. Read the introduction
<a href='http://ftp.hdfgroup.org/HDF5/Tutor/phypecont.html'>http://ftp.hdfgroup.org/HDF5/Tutor/phypecont.html</a> before using this
argument. R behaves like Fortran in this example. This argument is ignored,
if index is not NULL.</p></td>
    </tr>
    <tr>
      <th>count</th>
      <td><p>The number of blocks to be written. This argument is ignored, if
index is not NULL.</p></td>
    </tr>
    <tr>
      <th>size</th>
      <td><p>The length of string data type. Variable length strings are not
yet supported for datasets, only for attributes.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>h5write</code> returns 0 if successful.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Writes an R object to an HDF5 file. If none of the arguments <code>start,
stride, block, count</code> is specified, the dataset has the same dimension in the
HDF5 file and in memory. If the dataset already exists in the HDF5 file, one
can write subarrays, (so called hyperslabs) to the HDF5 file. The arguments
<code>start, stride, block, count</code> define the subset of the dataset in the
HDF5 file that is to be written to. See these introductions to hyperslabs:
<a href='https://support.hdfgroup.org/HDF5/Tutor/selectsimple.html'>https://support.hdfgroup.org/HDF5/Tutor/selectsimple.html</a>,
<a href='https://support.hdfgroup.org/HDF5/Tutor/select.html'>https://support.hdfgroup.org/HDF5/Tutor/select.html</a> and
<a href='http://ftp.hdfgroup.org/HDF5/Tutor/phypecont.html'>http://ftp.hdfgroup.org/HDF5/Tutor/phypecont.html</a>. Please note that in
R the first dimension is the fastest changing dimension.</p>
<p>When viewing the HDF5 datasets with any C-program (e.g. HDFView), the order
of dimensions is inverted. In the R interface counting starts with 1, whereas
in the C-programs (e.g. HDFView) counting starts with 0.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p><a href='https://portal.hdfgroup.org/display/HDF5'>https://portal.hdfgroup.org/display/HDF5</a></p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='h5ls.html'>h5ls</a></code>, <code><a href='h5_createFile.html'>h5createFile</a></code>,
<code><a href='h5_createDataset.html'>h5createDataset</a></code>, <a href='rhdf5.html'>rhdf5</a></p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Bernd Fischer, Mike Smith</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='r-in'></span>
<span class='r-in'><span class='fu'><a href='h5_createFile.html'>h5createFile</a></span><span class='op'>(</span><span class='st'>"ex_hdf5file.h5"</span><span class='op'>)</span></span>
<span class='r-msg co'><span class='r-pr'>#&gt;</span> file '/private/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T/RtmpTZxdvV/fileb844e4d77f5/reference/ex_hdf5file.h5' already exists.</span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># write a matrix</span></span>
<span class='r-in'><span class='va'>B</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/array.html'>array</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>0.1</span>,<span class='fl'>2.0</span>,by<span class='op'>=</span><span class='fl'>0.1</span><span class='op'>)</span>,dim<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>5</span>,<span class='fl'>2</span>,<span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span></span>
<span class='r-in'><span class='fu'><a href='https://rdrr.io/r/base/attr.html'>attr</a></span><span class='op'>(</span><span class='va'>B</span>, <span class='st'>"scale"</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='st'>"liter"</span></span>
<span class='r-in'><span class='fu'>h5write</span><span class='op'>(</span><span class='va'>B</span>, <span class='st'>"ex_hdf5file.h5"</span>,<span class='st'>"B"</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># write a submatrix</span></span>
<span class='r-in'><span class='fu'><a href='h5_createDataset.html'>h5createDataset</a></span><span class='op'>(</span><span class='st'>"ex_hdf5file.h5"</span>, <span class='st'>"S"</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>5</span>,<span class='fl'>8</span><span class='op'>)</span>, storage.mode <span class='op'>=</span> <span class='st'>"integer"</span>, chunk<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>5</span>,<span class='fl'>1</span><span class='op'>)</span>, level<span class='op'>=</span><span class='fl'>7</span><span class='op'>)</span></span>
<span class='r-msg co'><span class='r-pr'>#&gt;</span> Can not create dataset. Object with name 'S' already exists.</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] FALSE</span>
<span class='r-in'><span class='fu'>h5write</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>5</span>,nr<span class='op'>=</span><span class='fl'>5</span>,nc<span class='op'>=</span><span class='fl'>1</span><span class='op'>)</span>, file<span class='op'>=</span><span class='st'>"ex_hdf5file.h5"</span>, name<span class='op'>=</span><span class='st'>"S"</span>, index<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='cn'>NULL</span>,<span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span></span>
<span class='r-in'></span>
</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Bernd Fischer, Mike Smith, Gregoire Pau.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


